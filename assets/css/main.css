@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply min-h-screen bg-gray-50 font-sans text-gray-900 antialiased;
    font-size: 1rem;
    line-height: 1.6;
  }
}

@layer components {
  /* App container */
  .app-container {
    @apply max-w-content mx-auto px-4;
  }

  /* Page shell */
  .site-header {
    @apply sticky top-0 z-10 border-b border-border bg-white;
  }
  .site-main {
    @apply py-12;
  }

  /* Typography */
  .page-title {
    @apply text-page-title font-semibold text-gray-900 mt-0 mb-6;
  }
  .section-title {
    @apply text-section font-semibold text-gray-900 mt-0 mb-2;
  }
  .page-content {
    @apply space-y-4;
  }
  .page-content h2 {
    @apply text-section font-medium text-gray-900 mt-6 mb-2;
  }
  .page-content h3 {
    @apply text-body font-medium text-gray-900 mt-4 mb-2;
  }
  .page-content p,
  .page-content ul,
  .page-content ol {
    @apply mb-4;
  }

  /* Tables (e.g. Sovereignty Score page) */
  .page-content table {
    @apply w-full border-collapse text-left text-small my-6;
  }
  .page-content thead th {
    @apply bg-gray-100 font-semibold text-gray-900 px-4 py-3 border border-border border-b-2 border-gray-300;
  }
  .page-content tbody td {
    @apply px-4 py-3 border border-border;
  }
  .page-content tbody tr:nth-child(even) {
    @apply bg-gray-50/50;
  }
  .page-content tbody tr:hover {
    @apply bg-gray-100/80;
  }
  .page-content table + * {
    @apply mt-4;
  }

  /* Navigation */
  .nav {
    @apply py-4 flex flex-wrap items-center justify-between gap-4;
  }
  .nav-list {
    @apply flex flex-wrap gap-4 list-none m-0 p-0;
  }
  .nav-link {
    @apply text-gray-900 no-underline hover:text-primary;
  }
  .nav-link-active {
    @apply text-primary;
  }
  .logo {
    @apply font-bold text-primary no-underline hover:text-primary;
  }

  /* Card (replaces tool-card, category-card) */
  .card {
    @apply bg-white border border-border rounded-card shadow-card p-6 flex flex-col gap-4;
  }
  .card .card-link {
    @apply block no-underline text-inherit flex-1 flex flex-col gap-4 min-w-0;
  }
  .card .card-link:hover {
    @apply text-inherit;
  }
  .card header {
    @apply flex flex-col gap-2;
  }
  .card-header-with-logo {
    @apply flex flex-col gap-2;
  }
  .card-header-with-logo .section-title {
    @apply mb-0 min-w-0 break-words;
  }
  .card-header-badges {
    @apply flex flex-wrap items-center gap-2;
  }
  .card > .section-title {
    @apply mb-3;
  }
  .card .tool-card-description {
    @apply text-muted text-small leading-relaxed m-0;
  }
  .tool-meta {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-2 m-0;
  }
  .meta-item dt {
    @apply text-small text-muted uppercase tracking-wide m-0;
  }
  .meta-item dd {
    @apply m-0 text-small flex items-center gap-1.5;
  }
  .meta-item-inline-row {
    @apply flex flex-wrap items-center gap-x-4 gap-y-1 sm:col-span-2;
  }
  .meta-item-inline {
    @apply flex items-center gap-1.5;
  }
  .meta-item-inline dt {
    @apply mb-0 mr-0;
  }
  .meta-item-inline dd {
    @apply mb-0;
  }
  .meta-icon-wrap {
    @apply inline-flex shrink-0;
  }
  .meta-icon-yes {
    @apply text-green-600;
  }
  .meta-icon-no {
    @apply text-red-600;
  }
  .meta-icon-svg {
    @apply inline-block size-5;
  }
  .meta-icon-thick {
    @apply stroke-[2.5] stroke-current;
  }
  .meta-item-inline-row .meta-icon-svg {
    @apply size-6;
  }
  .country-flags {
    @apply inline-flex flex-wrap items-center gap-1.5;
  }
  .country-flag {
    @apply inline-block w-6 h-[18px] object-cover rounded-sm border border-gray-200;
  }
  .country-flag-fallback {
    @apply text-small text-muted;
  }
  .card footer,
  .card .card-footer-actions {
    @apply mt-auto pt-2 border-none;
  }
  .card footer a:not(.button),
  .card .card-footer-actions a:not(.button) {
    @apply text-primary text-small no-underline hover:underline;
  }
  .button-secondary {
    @apply bg-gray-100 text-gray-900 hover:bg-gray-200;
  }
  .card .category {
    @apply text-small text-muted bg-gray-100 px-2.5 py-0.5 rounded-full whitespace-nowrap;
  }

  /* Tools grid */
  .tools-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6 list-none p-0 mt-6;
  }

  /* Button */
  .button {
    @apply inline-block px-6 py-3 bg-primary text-white no-underline rounded hover:opacity-90;
  }

  /* Badges (pill style) */
  .badge {
    @apply inline-block px-2.5 py-0.5 rounded-full text-small font-medium;
  }
  .badge-neutral {
    @apply bg-gray-100 text-muted;
  }
  .badge-highlight {
    @apply bg-primary/10 text-primary;
  }

  /* Categories list */
  .categories-list {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6 mt-6;
  }
  .card h2 a {
    @apply text-gray-900 no-underline hover:text-primary;
  }
  .card ul {
    @apply list-none p-0 m-0 space-y-1;
  }

  /* Links */
  .link {
    @apply text-primary no-underline hover:underline;
  }

  /* Search page */
  .search-form {
    @apply mb-6;
  }
  .search-input {
    @apply w-full max-w-md px-4 py-3 border border-border rounded-card text-gray-900 placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary;
  }
  .search-results {
    @apply space-y-4 mt-6;
  }
  .search-results .card {
    @apply block no-underline text-inherit;
  }
  .search-no-js {
    @apply text-muted mt-4;
  }

  /* Tool logos (card and detail hero) */
  .tool-card-logo {
    @apply block mx-auto w-full md:w-2/3 h-auto max-h-[70px] object-contain;
  }
  .tool-logo {
    @apply shrink-0 h-auto max-h-[70px] w-auto object-contain md:ml-auto;
  }

  /* Tool detail page */
  .tool-detail-hero {
    @apply mb-8 flex flex-wrap items-start gap-4;
  }
  .tool-detail-hero-content {
    @apply min-w-0 flex-1;
  }
  .tool-detail-hero .tool-card-description {
    @apply mb-4;
  }
  .tool-detail-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6;
  }
  .tool-detail-main {
    @apply space-y-6;
  }
  .tool-detail-main ul {
    @apply list-none p-0 m-0 space-y-1;
  }
  .tool-detail-sidebar {
    @apply md:min-w-0 flex flex-col gap-6;
  }
  .checklist {
    @apply space-y-3;
  }
  .checklist-row {
    @apply flex flex-wrap justify-between items-center gap-2 py-2 border-b border-border last:border-0;
  }
  .checklist-label {
    @apply text-muted text-small font-normal;
  }
  .checklist-value {
    @apply text-small text-right;
  }

  /* Sovereignty score badge */
  .score-badge {
    @apply inline-flex items-baseline gap-1 no-underline rounded-full font-semibold border transition-colors;
  }
  .score-badge-value {
    @apply tabular-nums;
  }
  .score-badge-label {
    @apply text-small font-normal opacity-90;
  }
  /* Score range colors (0-2 low, 2.5-5 limited, 5.5-8 good, 8.5-10 high) â€“ plain CSS so they are never purged */
  .score-badge-range-low {
    background-color: rgb(239 68 68 / 0.15);
    color: #991b1b;
    border-color: rgb(239 68 68 / 0.3);
  }
  .score-badge-range-low:hover {
    background-color: rgb(239 68 68 / 0.2);
  }
  .score-badge-range-limited {
    background-color: rgb(245 158 11 / 0.15);
    color: #92400e;
    border-color: rgb(245 158 11 / 0.3);
  }
  .score-badge-range-limited:hover {
    background-color: rgb(245 158 11 / 0.2);
  }
  .score-badge-range-good {
    background-color: rgb(132 204 22 / 0.15);
    color: #3f6212;
    border-color: rgb(132 204 22 / 0.3);
  }
  .score-badge-range-good:hover {
    background-color: rgb(132 204 22 / 0.2);
  }
  .score-badge-range-high {
    background-color: rgb(22 163 74 / 0.15);
    color: #166534;
    border-color: rgb(22 163 74 / 0.3);
  }
  .score-badge-range-high:hover {
    background-color: rgb(22 163 74 / 0.2);
  }
  .score-confidence-low.score-badge {
    @apply opacity-75;
  }
  .score-badge:not(.score-badge-hero):not(.score-badge-sidebar) {
    @apply px-3 py-1 text-small;
  }
  .score-badge-hero {
    @apply px-4 py-2 text-body mb-4;
  }
  .score-badge-sidebar {
    @apply px-4 py-2 text-section justify-center my-2;
  }
  .score-confidence-hint {
    @apply mt-0 mb-3;
  }
  .score-breakdown {
    @apply mt-2;
  }
  .score-breakdown summary {
    @apply cursor-pointer text-muted hover:text-gray-700;
  }
  .score-breakdown-list {
    @apply list-none p-0 mt-2 space-y-1 text-muted;
  }

  /* CTA & Footer */
  .cta {
    @apply mt-8 flex flex-wrap gap-4;
  }
  .site-footer {
    @apply border-t border-border py-6 text-muted text-small text-center space-y-1;
  }
  .site-footer p {
    @apply m-0;
  }
}
